<div id='diagram-container'>
  <oj-diagram id='diagram' data='[[data]]' layout='[[layoutFunc]]' style-defaults='[[styleDefaults]]' node-properties='[[function(data){return data;}]]'
    link-properties='[[function(data){return data;}]]' style='max-width:800px;width:100%; height:600px;'>

    <oj-menu slot="contextMenu" style="display:none" aria-label="Edit" on-oj-action="[[menuItemAction]]" on-oj-before-open="[[beforeOpenFunction]]">
      <oj-option value="action1">Add Sub Objective</oj-option>
      <oj-option value="action2">Remove</oj-option>
      <oj-option value="action3">Edit</oj-option>
    </oj-menu>
  </oj-diagram>
  <div id="popupWrapper">
    <oj-popup class="demo-popup" id="popup1" tail="none" position.my.horizontal="center" position.my.vertical="center" position.at.horizontal="center"
      position.at.vertical="center" position.of="window" position.offset.y="-10" modality="modal" data-bind="event:{'ojAnimateStart': viewModel.startAnimationListener}">
      <div class="demo-popup-body">
        <div class="demo-popup-header">
          <h5>Edit Objective Info</h5>
        </div>
        <div class="demo-popup-content">
            <oj-label for="text-input">Name: </oj-label>
            <oj-input-text id="text-input" value="{{newName}}"></oj-input-text>
            <oj-label for="text-input">Code: </oj-label>
            <oj-input-text id="text-input" value="{{newCode}}"></oj-input-text>

        </div>
        <div class="demo-popup-footer">
            <oj-button id="btnCancel" data-bind="click: viewModel.apply">
                OK
            </oj-button>
          <oj-button id="btnCancel" data-bind="click: viewModel.cancel">
            Cancel
          </oj-button>
         
        </div>
      </div>
    </oj-popup>
   
  </div>

  <p>Last action:
    <span id="results" class="italic" style="font-weight:bold" data-bind='text: selectedMenuItem'></span>
  </p>
</div>